# Домашнее задание к занятию 13 «Введение в мониторинг»

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?  
     ### Ответ: 
   |   Метрика    | Обоснование                                                        |
   |:------------:|:-------------------------------------------------------------------|
   |     CPU      | Мониторинг нагрузки на CPU                                         | 
   |     RAM      | Контроль свободных ресурсов памяти и потребления                   |
   | HTTP/Request | Мониторинг общего количества запросов к системе                    |
   | HTTP/Answers | Мониторинг от ответов(400/500) для определения доступности ресурса |
   |     HDD      | Мониторинг свободного места на диске + (скорость чтение/запись)    |
   |     LAN      | Мониторинг сетевой нагрузки для анализа и планирования сети        |
   |    Inodes    | Мониторинг свободных дескрипторов, дабы избежать остановки сервиса |
   |   Service    | Мониторинг службы веб сервиса на предмет доступности               |

2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?  
      ### Ответ:
   | RAM    | Объем установленной и доступной оперативной памяти для запуска приложений. Отсутствие, либо малый объем свободной RAM может приводить к "зависанияю" программ и "задумчивости" системы в целом |
   |--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | inodes | Максималькое количество файлов в системе, которое может быть записано на диск, если свободных inode не будет, в систему ничгео не получится записать? даже рпи наличии места на диске          |
   | CPUla | Средняя загрузка процессора, для обработки запросов, чем выше показатель - тем хуже для системы в целом                                                                                        |
   ###
    Для определения качества обслуживания нужно оговорить и принять допустимые значения SLO.
###
4. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?  
     ### Ответ:
    Можно написть скрипт, который будет собирать данные из папки: /proc/ и вылкдаывать их в общедоступное место для разработчиков.
    Для поддержания данных в актуальном состоянии настраиваем расписание через Сron.
3. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов.   
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?  
     ### Ответ:
    В формуле учитываются только 200 ответы, которые деляться на  общее количество запросов. 
    Для правильного расчета нужно изменить формулу: (summ_1xx_requests+summ_2xx_requests+summ_300_requests)/sum_all_requests.
    