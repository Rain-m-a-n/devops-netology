## Домашнее задание к занятию 1. «Типы и структура СУБД»

### Задача 1
*Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.*

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

* электронные чеки в json-виде,
  * Документоориентированные ДБ (MongoDB). Каждый документ может иметь свою внутреннюю структуру;
* склады и автомобильные дороги для логистической компании,
  * Сетевые БД. Сетевые базы данных представляются не деревом, а общим графом
* генеалогические деревья,
  * Иерархические БД. Каждая запись может иметь не более одного родителя.
* кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
  * БД Ключ - Значение (Memcached). Нет жёсткой схемы отношения между данными, поэтому в таких БД часто хранят одновременно различные типы данных
* отношения клиент-покупка для интернет-магазина.
  * Реляционные БД (MSSQL,MySQL). Данные и связи между данными организованы с помощью таблиц.        


Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Задача 2
*Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):*

* данные записываются на все узлы с задержкой до часа (асинхронная запись);
  * CA PC/EL
* при сетевых сбоях система может разделиться на 2 раздельных кластера;
  * PA PA/EC
* система может не прислать корректный ответ или сбросить соединение.
  * PC PA/EC


Согласно PACELC-теореме как бы вы классифицировали эти реализации?

### Задача 3
*Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?*
  * Не могут из-за использования разного подхода. ACID делает упор на надёжность и предсказуемость, BASE на производительность в ущерб надёжности.

### Задача 4
*Вам дали задачу написать системное решение, основой которого бы послужили:*

* фиксация некоторых значений с временем жизни,
* реакция на истечение таймаута.   
Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

**Ответ:** Redis (Remote Dictionary Service) — Хранилище данных в памяти с открытым исходным кодом, используемое миллионами разработчиков в качестве базы данных, кэша, механизма потоковой передачи и брокера сообщений. Используется для реализации механизма издатель/подписчик (pub/sub), в задачах потоковой обработки данных, в системах, где нужно работать с очередями. Redis работает в оперативной памяти и в однопоточном режиме.

Недостатки:
Система репликации Redis сама по себе не поддерживает автоматическую отказоустойчивость.
Данные в момент работы хранятся в оперативной памяти, поэтому максимальный объем базы зависит от объема ОЗУ, что так же не гарантирует сохранность данных в случае сбоя. 
Кластер Redis не гарантирует строгой согласованности. На практике это означает, что при определенных условиях возможно, что кластер Redis потеряет записи, которые были подтверждены системой клиенту.
